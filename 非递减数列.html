<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <h1>
    665. 非递减数列
  </h1>

  <h3>
    给你一个长度为 n 的整数数组，请你判断在 最多 改变 1 个元素的情况下，该数组能否变成一个非递减数列。

    我们是这样定义一个非递减数列的： 对于数组中所有的 i (0 <= i <= n-2)，总满足 nums[i] <= nums[i + 1]
  </h3>

  <h3>
    输入: nums = [4,2,3]
    输出: true
    解释: 你可以通过把第一个4变成1来使得它成为一个非递减数列。
  </h3>

  <h3>
    输入: nums = [4,2,1]
    输出: false
    解释: 你不能在只改变一个元素的情况下将其变为非递减数列。
  </h3>

  <h5>
    <ul>
      <li>1 <= n <= 10 ^ 4</li>
      <li>- 10 ^ 5 <= nums[i] <= 10 ^ 5</li>
    </ul>
  </h5>

  <script>
    var checkPossibility = function(nums) {
      const n = nums.length;
      let count = 0;
      for (let i = 0; i < n - 1; i ++) {
        let x = nums[i],
            y = nums[i + 1];
        if (x > y) {
          count ++;
          if (count > 1) {
            return false;
          }
          if ( i > 0 && y < nums[i - 1]) {
            nums[i + 1] = x;
          }
        }
      }
      return true;
    };
  </script>
</body>
</html>